# 4.1 복구 가능성

코드가 실행되는 환경은 **불완전**하다.<br>
사용자가 잘못된 값을 입력하거나, 외부 시스템이 다운되며, 내가 작성한 코드와 다른 개발자가 작성한 코드에 버그가 있을 수 있다.<br>
때문에 오류는 **불가피**하다.<br>

이번 절에서는 **복구할 수 있는 오류**와 **복구할 수 없는 오류**에 대해 알아본다.

## 4.1.1 복구 가능한 오류

### 복구 가능한 오류의 예
- 사용자가 잘못된 값을 입력하는 경우
- 네트워크 오류
- 중요하지 않은 작업

이와 같은 오류가 발생했다고 프로그램을 종료한다면, 사용자는 프로그램 사용을 꺼리게 될 것이다.<br>
때문에, 이를 적절하게 처리하여 사용자에게 새로운 응답을 요청하거나 재시도를 하고 있다는 것을 보여주는 쪽으로 오류를 처리하는 것이 적절하다.

## 4.1.2 복구할 수 없는 오류

### 복구할 수 없는 오류의 예

복구할 수 없는 오류는 흔히 프로그래밍 오류 때문에 발생할 때가 많다.
- 코드와 함께 추가되어야 하는 리소스가 없는 경우
- A 함수에서 B 함수를 호출할 때 잘못된 파라미터 전달하는 경우
- `NullPointException`

이러한 오류가 발생했을 때 피해를 최소화하고, 개발자가 문제를 발견하고 문제를 해결하도록 해야한다.

## 4.1.3 호출하는 쪽에서만 오류 복구 가능 여부를 알 때가 많다

대부분의 오류는 한 코드가 다른 코드를 호출할 때 발생한다.<br>
그런데 호출하는 쪽에서 사용하는 코드가 **오류가 발생할 가능성이 있다**는 것을 어떻게 알 수 있을까?<br>
오류가 발생하거나 직접 코드를 까보기 전까지는 알 수 없을 것이다.

때문에, 함수를 설계하고 구현하는 입장이라면 **호출하는 쪽에서 적절한 값을 주거나, 내가 짠 코드를 올바르게 사용할 것이라는 기대를 하면 안된다.**

## 4.1.4 호출하는 쪽에서 복구하고자 하는 오류에 대해 인지하도록 하라

그렇다면 어떻게 해야 호출하는 쪽에서 오류를 예상할 수 있도록 할까?

답은, **코드 계약**을 분명하게 하는 것이다.<br>
`함수명 또는 클래스명`, `파라미터 타입`, `반환 타입`, `Checked Exception`, 더 나아가 `주석문과 문서`, `Uncheckd Exception`이 있다.

호출하는 쪽에서 오류를 처리하도록 원하는 것은 합당하지만, 그러기 위해선 호출하는 쪽에게 **오류의 발생 가능성을 알려주는 것**이 매우 중요하다.
